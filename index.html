<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Solar_system.Edu — Interactive</title>
  <style>
    :root{
      --bg:#071025; --panel:#0f1724; --muted:#9aa8bf; --accent:#f6c85f;
      --scene-size:940px; /* adapt for responsive below */
      --sun-size:70px;
      --motion-speed:1; /* JS updates this */
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, sans-serif;background:linear-gradient(180deg,#020617 0%,var(--bg) 60%);color:#e6eef8}
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:rgba(255,255,255,0.02);backdrop-filter:blur(4px);border-bottom:1px solid rgba(255,255,255,0.03)}
    .topbar h1{font-size:1.05rem;margin:0}
    .controls{display:flex;gap:8px;align-items:center}
    .controls label{font-size:.85rem;color:var(--muted)}
    button{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:6px 10px;border-radius:8px;color:var(--accent);cursor:pointer}
    input[type=range]{width:120px}

    .wrapper{display:grid;grid-template-columns:1fr 320px;gap:18px;padding:18px;align-items:start}
    .visual{display:flex;align-items:center;justify-content:center}

    /* Scene */
    .scene{position:relative;width:var(--scene-size);height:var(--scene-size);max-width:calc(100vw - 360px);max-height:80vh;border-radius:10px;background:radial-gradient(ellipse at center, rgba(255,255,255,0.02) 0%, transparent 30%);display:block;overflow:visible}

    .sun{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:var(--sun-size);height:var(--sun-size);border-radius:50%;box-shadow:0 0 40px 20px rgba(246,200,95,0.12),inset 0 0 18px rgba(255,255,255,0.05);background:radial-gradient(circle at 30% 30%, #fff6d1 0%, #ffcf4d 40%, #ff9f2e 100%);border:1px solid rgba(255,200,90,0.15)}

    /* orbit container */
    .orbit{position:absolute;left:50%;top:50%;transform-origin:center center;display:block;border-radius:50%;border:1px dashed rgba(255,255,255,0.03);}
    .orbit .planet{position:absolute;left:50%;top:0;transform:translate(-50%,-50%);border-radius:50%;box-shadow:0 4px 14px rgba(0,0,0,0.6);cursor:pointer;outline:0;border:2px solid rgba(255,255,255,0.02)}

    /* per-planet visual scale (not scientific) */
    .planet[data-planet="mercury"], .orbit[data-planet="mercury"]{--r:60px}

    /* We'll set size in inline styles via JS to keep CSS compact */

    .info{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);min-height:240px}
    #panelTitle{margin:0 0 8px 0}
    .planet-data{margin:0;padding:0}
    .planet-data dt{font-weight:600}
    .planet-data dd{margin:0 0 8px 0;color:var(--muted)}
    .legend{margin-top:12px;color:var(--muted);font-size:.92rem}

    details summary{cursor:pointer}
    .footer{text-align:center;padding:12px;color:var(--muted);font-size:.85rem}

    /* focus styles for keyboard accessibility */
    .planet:focus{outline:3px solid rgba(246,200,95,0.22);transform:translate(-50%,-50%) scale(1.1)}

    /* responsive */
    @media (max-width:1000px){
      .wrapper{grid-template-columns:1fr;}
      .scene{max-width:calc(100vw - 40px);}
    }

    /* prefers-reduced-motion respects */
    @media (prefers-reduced-motion: reduce){
      .orbit{transition:none !important}
    }
  </style>
</head>
<body>
  <header class="topbar">
    <h1>Infografis: Sistem Tata Surya</h1>
    <div class="controls">
      <button id="playPause" aria-pressed="false">Putar</button>
      <label for="speed">Kecepatan</label>
      <input id="speed" type="range" min="0.1" max="4" step="0.1" value="1" aria-label="Kecepatan animasi" />
      <label for="time">Waktu</label>
      <input id="time" type="range" min="0" max="365" value="0" aria-label="Waktu (hari)" />
    </div>
  </header>

  <main class="wrapper">
    <section class="visual" aria-label="Visual tata surya">
      <div id="scene" class="scene" role="application" aria-roledescription="Simulasi tata surya">
        <div class="sun" title="Matahari" aria-hidden="true"></div>

        <!-- Orbits/planets generated by JS for precise control -->
      </div>
    </section>

    <aside class="info" aria-live="polite">
      <div id="panel">
        <h2 id="panelTitle">Pilih sebuah planet</h2>
        <dl id="planetData" class="planet-data"></dl>
      </div>

      <div class="legend">
        <h3>Tips Penggunaan</h3>
        <ul>
          <li>Klik atau tekan Enter/Space pada planet untuk menampilkan detail.</li>
          <li>Gunakan slider untuk mengatur waktu/kecepatan animasi.</li>
        </ul>
      </div>

      <details open>
        <summary>Data singkat & Deskripsi</summary>
        <ul class="data-list" id="descriptions">
          <li id="desc-sun"><b>Matahari</b> — Bintang pusat tata surya, sumber energi utama bagi semua planet. Suhunya mencapai lebih dari 5.000°C di permukaannya.</li>
          <li id="desc-mercury"><b>Merkurius</b> — Planet terkecil dan terdekat dengan Matahari. Siang hari sangat panas, malamnya sangat dingin.</li>
          <li id="desc-venus"><b>Venus</b> — Planet terpanas dengan atmosfer tebal dari gas karbon dioksida. Ukurannya mirip dengan Bumi.</li>
          <li id="desc-earth"><b>Bumi</b> — Satu-satunya planet yang diketahui memiliki kehidupan. 71% permukaannya tertutup air.</li>
          <li id="desc-mars"><b>Mars</b> — Disebut planet merah karena permukaannya kaya besi oksida. Pernah memiliki air di masa lalu.</li>
          <li id="desc-jupiter"><b>Yupiter</b> — Planet terbesar dengan Bintik Merah Besar, badai raksasa yang telah berlangsung selama berabad-abad.</li>
          <li id="desc-saturn"><b>Saturnus</b> — Dikenal karena cincin indah yang terbuat dari es dan batu. Planet gas raksasa kedua terbesar.</li>
          <li id="desc-uranus"><b>Uranus</b> — Planet berwarna biru pucat yang berputar miring hampir sejajar dengan orbitnya. Tersusun dari es air dan metana.</li>
          <li id="desc-neptune"><b>Neptunus</b> — Planet terjauh dan sangat dingin, dengan angin tercepat di tata surya, mencapai 2.000 km/jam.</li>
        </ul>
      </details>
    </aside>
  </main>

  <footer class="footer">@SolarAtomic</footer>

  <script>
    (function(){
      // Planet dataset (name, visual size px, orbit radius px, orbital period in days, desc-id, color)
      const PLANETS = [
        {id:'mercury', name:'Merkurius', size:8, r:60, period:88, desc:'desc-mercury', color:'#bdb6b0'},
        {id:'venus', name:'Venus', size:12, r:90, period:225, desc:'desc-venus', color:'#e6c39a'},
        {id:'earth', name:'Bumi', size:13, r:130, period:365, desc:'desc-earth', color:'#5fb2ff'},
        {id:'mars', name:'Mars', size:10, r:170, period:687, desc:'desc-mars', color:'#d56b4a'},
        {id:'jupiter', name:'Yupiter', size:22, r:230, period:4333, desc:'desc-jupiter', color:'#d8b48a'},
        {id:'saturn', name:'Saturnus', size:20, r:300, period:10759, desc:'desc-saturn', color:'#e8d7b1'},
        {id:'uranus', name:'Uranus', size:17, r:360, period:30687, desc:'desc-uranus', color:'#9fe0e8'},
        {id:'neptune', name:'Neptunus', size:17, r:420, period:60190, desc:'desc-neptune', color:'#6aa7e8'}
      ];

      const scene = document.getElementById('scene');
      const playPause = document.getElementById('playPause');
      const speedInput = document.getElementById('speed');
      const timeInput = document.getElementById('time');
      const panelTitle = document.getElementById('panelTitle');
      const planetData = document.getElementById('planetData');

      // Create orbits and planet elements
      PLANETS.forEach(p=>{
        const orbit = document.createElement('div');
        orbit.className = 'orbit';
        orbit.dataset.planet = p.id;
        orbit.style.width = orbit.style.height = (p.r*2) + 'px';
        orbit.style.marginLeft = (-p.r) + 'px';
        orbit.style.marginTop = (-p.r) + 'px';

        // planet
        const planet = document.createElement('button');
        planet.className = 'planet';
        planet.type = 'button';
        planet.setAttribute('aria-label', p.name);
        planet.dataset.name = p.name;
        planet.dataset.radius = p.size;
        planet.dataset.descId = p.desc;
        planet.dataset.planetId = p.id;
        planet.style.width = planet.style.height = p.size + 'px';
        planet.style.left = '50%';
        planet.style.top = '0';
        planet.style.background = `radial-gradient(circle at 30% 30%, #fff 0%, ${p.color} 40%)`;
        planet.title = p.name;
        planet.tabIndex = 0;

        orbit.appendChild(planet);
        scene.appendChild(orbit);
      });

      // State
      let isPlaying = false;
      let lastTimestamp = null;
      let simulatedDays = Number(timeInput.value); // day counter
      let speed = Number(speedInput.value); // multiplier of real-time -> simulated days per second

      // helpers
      function updateOrbits(){
        // position planets by setting rotation of orbit wrapper
        const orbits = document.querySelectorAll('.orbit');
        orbits.forEach(orbit=>{
          const planetId = orbit.dataset.planet;
          const p = PLANETS.find(x=>x.id===planetId);
          if(!p) return;
          const angle = ((simulatedDays % p.period) / p.period) * 360; // degrees
          orbit.style.transform = `translate(-50%,-50%) rotate(${angle}deg)`;
        });
      }

      function renderPanelFor(planet){
        const name = planet.dataset.name;
        const descId = planet.dataset.descId;
        const descEl = document.getElementById(descId);
        const radiusKm = planet.dataset.radius;

        panelTitle.textContent = name;
        planetData.innerHTML = `
          <dt>Radius visual</dt><dd>${radiusKm} (skala)</dd>
          <dt>Jarak orbit (px)</dt><dd>${planet.parentElement.style.width.replace('px','')/1/2}px dari pusat (visual)</dd>
          <dt>Deskripsi</dt><dd>${descEl ? descEl.innerHTML : 'Tidak tersedia'}</dd>
        `;

        // announce for screen readers
        panelTitle.setAttribute('aria-live','polite');
      }

      // event listeners
      playPause.addEventListener('click', ()=>{
        isPlaying = !isPlaying;
        playPause.textContent = isPlaying ? 'Jeda' : 'Putar';
        playPause.setAttribute('aria-pressed', String(isPlaying));
        if(isPlaying){ lastTimestamp = null; requestAnimationFrame(loop); }
      });

      speedInput.addEventListener('input', ()=>{
        speed = Number(speedInput.value);
      });

      timeInput.addEventListener('input', ()=>{
        simulatedDays = Number(timeInput.value);
        updateOrbits();
      });

      // planet interactions (delegation)
      scene.addEventListener('click', (ev)=>{
        const btn = ev.target.closest('.planet');
        if(!btn) return;
        renderPanelFor(btn);
      });

      scene.addEventListener('keydown', (ev)=>{
        if(ev.key === 'Enter' || ev.key === ' '){
          const btn = ev.target.closest('.planet');
          if(btn){ ev.preventDefault(); renderPanelFor(btn); }
        }
      });

      // keyboard global: space toggles play/pause (when not focusing an input)
      window.addEventListener('keydown', (ev)=>{
        const active = document.activeElement;
        if(ev.code === 'Space' && (active.tagName !== 'INPUT' && active.tagName !== 'TEXTAREA' && !active.isContentEditable)){
          ev.preventDefault(); playPause.click();
        }
      });

      // main animation loop
      function loop(timestamp){
        if(!isPlaying) return;
        if(lastTimestamp == null) lastTimestamp = timestamp;
        const dt = (timestamp - lastTimestamp) / 1000; // seconds
        lastTimestamp = timestamp;

        // Advance simulatedDays. speed = simulated days per real second
        simulatedDays += dt * speed * 10; // multiplier to make motion visible; tweakable
        // clamp to max range of time input
        if(simulatedDays < Number(timeInput.min)) simulatedDays = Number(timeInput.min);
        if(simulatedDays > Number(timeInput.max)) simulatedDays = Number(timeInput.max);
        timeInput.value = Math.floor(simulatedDays);

        updateOrbits();
        requestAnimationFrame(loop);
      }

      // Initialize
      updateOrbits();

      // Accessibility: announce scene description at load
      const sr = document.createElement('p');
      sr.className = 'sr-only';
      sr.style.position = 'absolute'; sr.style.left = '-9999px';
      sr.textContent = 'Simulasi tata surya interaktif. Gunakan tombol Putar untuk memulai dan klik planet untuk melihat detail.';
      document.body.appendChild(sr);

      // Expose small API for debugging (optional)
      window.__solarSim = {start: ()=>{ if(!isPlaying) playPause.click(); }, stop: ()=>{ if(isPlaying) playPause.click(); }, setDays:(d)=>{ simulatedDays = d; timeInput.value = d; updateOrbits() }};

    })();
  </script>
</body>
</html>
